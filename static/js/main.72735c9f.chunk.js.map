{"version":3,"sources":["MyTable.js","TabTable.js","UserInterface.js","index.js"],"names":["options","value","label","index","disabled","MyTable","turpleString","split","map","i","parseInt","user","_this","this","tabID","props","dataField","text","formatter","cell","row","rowIndex","colIndex","columnValues","react_default","a","createElement","react_select_es","closeOnSelect","multi","removeSelected","searchable","onChange","onSelectChange","bind","getSelectionTurples","_this2","_this3","columns","push","attrs","width","textAlign","classes","subtitleIndexArray","includes","selectedUsers","length","users","createColumn","createReconcileColumn","lib_default","keyField","data","striped","hover","condensed","Component","TabTable","esm","Array","titles","fill","e","selectionValuesDict","MyTable_MyTable","KeyField","checkSelections","UserInterface","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","retrieveUserNames","retrieveFileNames","handleUserChange","assertThisInitialized","handleFileChange","fetchData","updateFileList","handleReconciliationSubmit","handleReconciliationChange","state","httprequest","XMLHttpRequest","open","setRequestHeader","onreadystatechange","readyState","userNames","responseText","trim","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","err","return","setState","send","fileNames","files","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","file","selectedFile","showTable","document","getElementById","innerHTML","valueArray","columnArray","selection","k","builder","require","Builder","json","xmlParsedJson","selectionValues","j","findSentenceIndex","sentence_id","sentence","$","xml","buildObject","postJsonRequest","alert","postJson","JSON","stringify","_this4","response","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","userList","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","join","section","subtitles","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","sec","title","prototype","apply","getSubTitles","id","_this5","filename","numOfUser","xmlrequest","obj","parse","parser","Parser","parseString","result","titleArray","titleSpanArray","textSpanArray","dataArray","subtitleArray","reconcileValues","curSentenceIndex","curSectionIndex","docTitle","_","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","lastSectionEndSpan","thisSectionStartSpan","textSpan","toString","titleSpan","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","spans","charOffset","start","span","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_iterator8","_iteratorNormalCompletion9","_didIteratorError9","_iteratorError9","_step9","_iterator9","pop","masi","Number","parseFloat","toPrecision","setAttribute","class","target","TabTable_TabTable","onClick","align","href","renderTable","ReactDOM","render","UserInterface_UserInterface"],"mappings":"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","file":"static/js/main.72735c9f.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport BootstrapTable from 'react-bootstrap-table-next'\nimport 'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css'\nimport Select from 'react-select'\nimport 'react-select/dist/react-select.css';\nimport './MyTable.css';\n\nconst options = [\n  { value: '1a', label: 'Title (Randomized) (1a)', index: 1},\n  { value: '1b', label: 'Structured Abstract (1b)', index: 2},\n  { value: 'introduction', label: 'Introduction', disabled: true, index: 3},\n  { value: '2a', label: 'Background (2a)', index: 4},\n  { value: '2b', label: 'Objective (2b)', index: 5},\n  { value: 'methods', label: 'Methods', disabled: true, index: 6},\n  { value: '3a', label: 'Trial Design (3a)', index: 7},\n  { value: '3b', label: 'Changes TO Trial Design (3b)', index: 8},\n  { value: '4a', label: 'Eligibility Criteria (4a)', index: 9},\n  { value: '4b', label: 'Data Collection Setting (4b)', index: 10},\n  { value: '5', label: 'Interventions (5)', index: 11},\n  { value: '6a', label: 'Outcomes (6a)', index: 12},\n  { value: '6b', label: 'Changes to Outcomes (6b)', index: 13},\n  { value: '7a', label: 'Sample Size Determination (7a)', index: 14},\n  { value: '7b', label: 'Interim Analyses/Stopping Guidelines (7b)', index: 15},\n  { value: '8a', label: 'Random Allocation Sequence Generation (8a)', index: 16},\n  { value: '8b', label: 'Randomization Type (8b)', index: 17},\n  { value: '9', label: 'Allocation Concealment Mechanism (9)', index: 18},\n  { value: '10', label: 'Randomization Implementation (10)', index: 19},\n  { value: '11a', label: 'Blinding Procedure (11a)', index: 20},\n  { value: '11b', label: 'Similarity of Interventions (11b)', index: 21},\n  { value: '12a', label: 'Statistical Methods for Outcome Comparison (12a)', index: 22},\n  { value: '12b', label: 'Statistical Methods for Other Analyses (12b)', index: 23},\n  { value: 'results', label: 'Results', disabled: true, index: 24},\n  { value: '13a', label: 'Participant Flow (13a)', index: 25},\n  { value: '13b', label: 'Participant Loss and Exclusion (13b)', index: 26},\n  { value: '14a', label: 'Recruitment Period/Follow-Up (14a)', index: 27},\n  { value: '14b', label: 'Trial Stopping (14b)', index: 28},\n  { value: '15', label: 'Baseline Data (15)', index: 29},\n  { value: '16', label: 'Numbers Analyzed (16)', index: 30},\n  { value: '17a', label: 'Outcome Results (17a)', index: 31},\n  { value: '17b', label: 'Binary Outcome Results (17b)', index: 32},\n  { value: '18', label: 'Ancillary Analyses (18)', index: 33},\n  { value: '19', label: 'Harms (19)', index: 34},\n  { value: 'discussion', label: 'Discussion', disabled: true, index: 35},\n  { value: '20', label: 'Limitations (20)', index: 36},\n  { value: '21', label: 'Generalizability (21)', index: 37},\n  { value: '22', label: 'Interpretation (22)', index: 38},\n  { value: 'other', label: 'Other', disabled: true, index: 39},\n  { value: '23', label: 'Registry/Number (23)', index: 40},\n  { value: '24', label: 'Protocol Access (24)', index: 41},\n  { value: '25', label: 'Funding (25)', index: 42},\n];\n\n\nexport default class MyTable extends Component {\n\n  getSelectionTurples(turpleString) {\n    var turpleIndexArray = turpleString.split(' ');\n    var turples = turpleIndexArray.map(i => options[parseInt(i)-1]);\n    return turples;\n  }\n\n  createColumn(user) {\n    var tabID = this.props.tabID;\n    return {dataField: user, text: user, formatter: (cell, row, rowIndex, colIndex) => {\n      return this.props.columnValues[user][tabID] && this.props.columnValues[user][tabID][rowIndex] ?\n        <Select options={options} closeOnSelect={true} multi disabled removeSelected={true} searchable ={true}\n        onChange={this.props.onSelectChange.bind(this, rowIndex)} value={this.getSelectionTurples(this.props.columnValues[user][tabID][rowIndex])}/>\n        :\n        <Select options={options} closeOnSelect={true} multi disabled removeSelected={true} searchable ={true}\n        onChange={this.props.onSelectChange.bind(this, rowIndex)}/>\n    }};\n  }\n\n  createReconcileColumn() {\n    var tabID = this.props.tabID;\n    var user = 'Reconciliation';\n    return {dataField: \"reconcile\", text: \"RECONCILIATION\", formatter: (cell, row, rowIndex, colIndex) => {\n      return this.props.columnValues[user][tabID] && this.props.columnValues[user][tabID][rowIndex] ?\n        <Select options={options} closeOnSelect={true} multi removeSelected={true} searchable ={true}\n        onChange={this.props.onSelectChange.bind(this, rowIndex)} value={this.getSelectionTurples(this.props.columnValues[user][tabID][rowIndex])}/>\n        :\n        <Select options={options} closeOnSelect={true} multi removeSelected={true} searchable ={true}\n        onChange={this.props.onSelectChange.bind(this, rowIndex)}/>\n    }};\n  }\n\n  render() {\n    var columns = [];\n    columns.push({dataField: \"id\", text: \"ID\", attrs: {width: \"3%\", textAlign: \"center\"}});\n    columns.push({dataField: \"sentence\", text: \"SENTENCE\", attrs: {width: \"50%\"}, classes: (cell, row, rowIndex, colIndex) => {\n      return this.props.subtitleIndexArray.includes(rowIndex+1) ? 'example1' : 'example2';\n    }});\n    if(this.props.selectedUsers.length > 0) {\n      var users = this.props.selectedUsers;\n      for(var i = 0; i < users.length; i++) {\n        var user = users[i].value;\n        columns.push(this.createColumn(user));\n      }\n      columns.push(this.createReconcileColumn());\n    }\n    return (\n      <BootstrapTable keyField=\"id\" data={this.props.data} columns={columns}\n      striped hover condensed>\n      </BootstrapTable>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Tabs, TabList, Tab, TabPanel } from 'react-tabs';\nimport 'react-tabs/style/react-tabs.css';\nimport './TabTable.css';\nimport MyTable from './MyTable'\n\nexport default class TabTable extends Component {\n  render() {\n    return (\n      <div>\n        <Tabs>\n          <TabList>\n            {Array(this.props.titles.length).fill().map((e,i) => <Tab> {this.props.titles[i]} </Tab>)}\n          </TabList>\n\n          <div>\n          {Array(this.props.titles.length).fill().map(\n            (e,i) =>\n                      this.props.selectionValuesDict ?\n                      <TabPanel>\n                        <MyTable KeyField=\"id\" data={this.props.data[i]} columnValues={this.props.selectionValuesDict} tabID={i}\n                        onSelectChange={this.props.onSelectChange.bind(this, i)} checkSelections={this.props.checkSelections}\n                        selectedUsers={this.props.selectedUsers} subtitleIndexArray={this.props.subtitleIndexArray[i]}/>\n                      </TabPanel>\n                      :\n                      <TabPanel>\n                        <MyTable KeyField=\"id\" data={this.props.data[i]} tabID={i}\n                        onSelectChange={this.props.onSelectChange.bind(this, i)} checkSelections={this.props.checkSelections}\n                        subtitleIndexArray={this.props.subtitleIndexArray[i]}/>\n                      </TabPanel>)}\n\n          </div>\n        </Tabs>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport TabTable from './TabTable'\nimport Select from 'react-select'\nimport 'react-select/dist/react-select.css';\nimport './UserInterface.css'\n\nconst URL_GET_FILENAMES = 'GetFileNamesRe.php'\nconst URL_GET_USERNAMES = 'GetUserNames.php'\nconst URL_COMMON_ANNOTATED_FILENAMES = 'GetCommonFileNamesRe.php'\nconst URL_GET_ANNOTATION_FILE = 'GetAnnotationFileRe.php'\nconst URL_POST_JSON = 'PostAnnotatedJSONRe.php'\nconst PDF_DIR = '../ConsortAnnotation/pdfs/'\n\nexport default class UserInterface extends Component {\n\n  constructor(props) {\n    super(props);\n    this.retrieveUserNames();\n    this.retrieveFileNames();\n    this.handleUserChange = this.handleUserChange.bind(this);\n    this.handleFileChange = this.handleFileChange.bind(this);\n    this.fetchData = this.fetchData.bind(this);\n    this.updateFileList = this.updateFileList.bind(this);\n    this.handleReconciliationSubmit = this.handleReconciliationSubmit.bind(this);\n    this.handleReconciliationChange = this.handleReconciliationChange.bind(this);\n    this.state = {\n    };\n  }\n\n  retrieveUserNames() {\n    var httprequest = new XMLHttpRequest();\n    httprequest.open('POST', URL_GET_USERNAMES, true);\n    httprequest.setRequestHeader(\"Content-type\", \"application/json\");\n    httprequest.onreadystatechange = () => {\n      if(httprequest.readyState === 4){\n        var response = httprequest.responseText;\n        var userNames = response.trim().split(\" \");\n        var users = [];\n        for (var user of userNames) {\n          users.push({value: user, label: user});\n        }\n        this.setState({users: users});\n      }\n    };\n    httprequest.send(null);\n  }\n\n  retrieveFileNames() {\n    var httprequest = new XMLHttpRequest();\n    httprequest.open('POST', URL_GET_FILENAMES, true);\n    httprequest.setRequestHeader(\"Content-type\", \"application/json\");\n    httprequest.onreadystatechange = () => {\n      if(httprequest.readyState === 4){\n        var response = httprequest.responseText;\n        var fileNames = response.trim().split(\" \");\n        var files = [];\n        if(fileNames.length != 0) {\n          for (var file of fileNames) {\n            files.push({value: file, label: file});\n          }\n          this.setState({files: files});\n        }\n      }\n    };\n    httprequest.send(null);\n  }\n\n  handleFileChange(e) {\n    if(e) {\n      this.setState({selectedFile: e, showTable: false});\n      if(this.state.selectedUsers.length > 1) {\n        this.fetchData(e);\n      }\n    }else{\n      this.setState({selectedFile: null, showTable: false});\n    }\n  }\n\n  handleUserChange(e){\n    this.setState({selectedFile: null, showTable: false});\n    if(e) {\n      this.setState({selectedUsers: e});\n      if(e.length > 1) {\n        this.updateFileList(e);\n        document.getElementById('message').innerHTML = '';\n      }else{\n        this.setState({showTable: false})\n        document.getElementById('message').innerHTML = 'Select at least two users';\n      }\n    }else{\n      this.setState({selectedUsers: null, showTable: false});\n      document.getElementById('message').innerHTML = 'Select at least two users';\n    }\n\n  }\n\n  handleReconciliationChange(i, rowIndex, e) {\n    var selectionValuesDict = this.state.selectionValuesDict;\n    var valueArray = selectionValuesDict['Reconciliation'];\n    if (e) {\n      var columnArray = valueArray[i] || [];\n      var selection = '';\n      for (var k = 0; k < e.length; k++) {\n        selection = selection + e[k].index + ' ';\n      }\n      columnArray[rowIndex] = selection.trim();\n      valueArray[i] = columnArray;\n      selectionValuesDict['Reconciliation'] = valueArray;\n      this.setState({selectionValuesDict: selectionValuesDict});\n    }else{\n      valueArray[i][rowIndex] = null;\n      selectionValuesDict['Reconciliation'] = valueArray;\n      this.setState({selectionValuesDict: selectionValuesDict});\n    }\n  }\n\n  handleReconciliationSubmit(e){\n    var xml2js = require('xml2js');\n    var builder = new xml2js.Builder();\n    var json = this.state.xmlParsedJson;\n    var selection;\n    var selectionValues = this.state.selectionValuesDict['Reconciliation'];\n    for (var i = 0; i < this.state.data.length; i++){\n      for (var j = 0; j < this.state.data[i].length; j++) {\n        var index = this.findSentenceIndex(this.state.data[i][j].sentence_id);\n        if (index != -1) {\n          if (selectionValues[i]) {\n            if (selectionValues[i][j]) {\n              selection = selectionValues[i][j];\n              json.document.sentence[index].$.selection = selection;\n            }else {\n              json.document.sentence[index].$.selection = '';\n            }\n          }else{\n            json.document.sentence[index].$.selection = '';\n          }\n        }\n      }\n    }\n    var xml = builder.buildObject(json);\n    var postJsonRequest= new XMLHttpRequest();\n    postJsonRequest.open(\"POST\", URL_POST_JSON, true);\n    postJsonRequest.setRequestHeader(\"Content-type\", \"text/xml\");\n    postJsonRequest.onreadystatechange = () => {\n      if(postJsonRequest.readyState === 4){\n        var response = postJsonRequest.responseText;\n        alert(`Successfully saved.`);\n      }\n    };\n    var postJson = {};\n    postJson[\"xml\"] = xml;\n    postJson[\"filename\"] = this.state.selectedFile.value;\n    postJsonRequest.send(JSON.stringify(postJson));\n  }\n\n  updateFileList(e){\n    var httprequest = new XMLHttpRequest();\n    httprequest.open('POST', URL_COMMON_ANNOTATED_FILENAMES, true);\n    httprequest.setRequestHeader(\"Content-type\", \"application/json\");\n    httprequest.onreadystatechange = () => {\n      if(httprequest.readyState === 4){\n        var response = httprequest.responseText;\n        if (response.trim() != '') {\n          var fileNames = response.trim().split(\" \");\n          var files = [];\n          for (var file of fileNames) {\n            files.push({value: file, label: file});\n          }\n          this.setState({files: files});\n        }else{\n          this.setState({files: null});\n          document.getElementById('message').innerHTML = 'No common annotation file exists';\n        }\n      }\n    };\n    var postJson = {};\n    var userList = [];\n    for (var user of e) {\n      userList.push(user.value);\n    }\n    postJson[\"userList\"] = userList.join(' ');\n    httprequest.send(JSON.stringify(postJson));\n    this.setState({userList: userList.join(' ')});\n  }\n\n  getSubTitles(section) {\n    var subtitles = [];\n    for ( var sec of section) {\n      subtitles.push(sec.$.title);\n      if (sec.section) {\n        Array.prototype.push.apply(subtitles, this.getSubTitles(sec.section));\n      }\n    }\n    return subtitles;\n  }\n\n  findSentenceIndex(sentence_id){\n    var json = this.state.xmlParsedJson;\n    var i = 0;\n    while ( i < json.document.sentence.length) {\n      if (json.document.sentence[i].$.id == sentence_id) {\n        return i;\n      }\n      i++;\n    }\n    return -1;\n  }\n\n  fetchData(e) {\n    var filename = e.value;\n    var users = this.state.selectedUsers;\n    var numOfUser = this.state.selectedUsers.length;\n    var xmlrequest = new XMLHttpRequest();\n    xmlrequest.open('POST', URL_GET_ANNOTATION_FILE, true);\n    xmlrequest.setRequestHeader(\"Content-type\", \"application/json\");\n    xmlrequest.onreadystatechange = () => {\n      if(xmlrequest.readyState === 4){\n        var text = xmlrequest.responseText;\n        var obj = JSON.parse(text);\n        var xml2js = require('xml2js');\n        var parser = new xml2js.Parser({trim: true});\n        parser.parseString(obj[users[0].value], (err, result) => {\n          var titleArray = [];\n          var titleSpanArray = [];\n          var textSpanArray = [];\n          var dataArray = [[]];\n          var subtitleIndexArray = [[]];\n          var subtitleArray = [];\n          var selectionValues = [[]];\n          var reconcileValues = [[]];\n          var curSentenceIndex = 1;\n          var curSectionIndex = 0;\n          selectionValues[curSectionIndex] = [];\n          reconcileValues[curSectionIndex] = [];\n          var docTitle = result.document.sentence[1].text[0]._;\n          for (var section of result.document.section){\n            if(titleArray.length > 0) {\n              var lastSectionEndSpan = textSpanArray[textSpanArray.length - 1];\n              var thisSectionStartSpan = section.$.textSpan.split('-')[0];\n              if(parseInt(thisSectionStartSpan) - parseInt(lastSectionEndSpan) > 10) {\n                titleArray.push(\"UNNAMED\");\n                titleSpanArray.push((parseInt(lastSectionEndSpan) + 1).toString());\n                textSpanArray.push((parseInt(thisSectionStartSpan) - 1).toString());\n              }\n            }\n            titleArray.push(section.$.title);\n            titleSpanArray.push(section.$.titleSpan.split('-')[0]);\n            textSpanArray.push(section.$.textSpan.split('-')[1]);\n            if (section.section) {\n              Array.prototype.push.apply(subtitleArray, this.getSubTitles(section.section));\n            }\n          }\n          for (var sentence of result.document.sentence){\n            let spans = sentence.$.charOffset.split('-');\n            let start = spans[0];\n            let span = spans[1];\n            if (!titleSpanArray.includes(start)) {\n              if(parseInt(span) <= parseInt(textSpanArray[curSectionIndex])){\n                dataArray[curSectionIndex].push({id: curSentenceIndex, sentence: sentence.text[0]._, sentence_id: sentence.$.id});\n                if (subtitleArray.includes(sentence.text[0]._)) {\n                  subtitleIndexArray[curSectionIndex].push(curSentenceIndex);\n                }\n              }else{\n                curSectionIndex = curSectionIndex + 1;\n                curSentenceIndex = 1;\n                selectionValues[curSectionIndex] = [];\n                reconcileValues[curSectionIndex] = [];\n                dataArray[curSectionIndex] = [];\n                dataArray[curSectionIndex].push({id: curSentenceIndex, sentence: sentence.text[0]._, sentence_id: sentence.$.id});\n                subtitleIndexArray[curSectionIndex] = [];\n                if (subtitleArray.includes(sentence.text[0]._)) {\n                  subtitleIndexArray[curSectionIndex].push(curSentenceIndex);\n                }\n              }\n\n              if (!selectionValues[curSectionIndex]) {\n                selectionValues[curSectionIndex] = [];\n                reconcileValues[curSectionIndex] = [];\n              }\n              if(sentence.$.selection) {\n                selectionValues[curSectionIndex][curSentenceIndex-1] = sentence.$.selection;\n                reconcileValues[curSectionIndex][curSentenceIndex-1] = sentence.$.selection;\n              }\n              curSentenceIndex = curSentenceIndex + 1;\n            }\n          }\n          var selectionValuesDict = {};\n          selectionValuesDict[users[0].value] = selectionValues;\n          selectionValuesDict['Reconciliation'] = reconcileValues;\n          this.setState({titles: titleArray, data: dataArray, docTitle: docTitle, xmlParsedJson: result,\n            selectionValuesDict: selectionValuesDict, subtitleIndexArray: subtitleIndexArray});\n        });\n        if(obj['Reconciliation']) {\n          users.push({value: 'Reconciliation', label: 'Reconciliation'});\n          numOfUser++;\n        }\n        for(var i = 1; i < numOfUser; i++) {\n          parser.parseString(obj[users[i].value], (err, result) => {\n            var titleArray = [];\n            var titleSpanArray = [];\n            var textSpanArray = [];\n            var selectionValues = [[]];\n            var curSentenceIndex = 1;\n            var curSectionIndex = 0;\n            selectionValues[curSectionIndex] = [];\n            for (var section of result.document.section){\n              if(titleArray.length > 0) {\n                var lastSectionEndSpan = textSpanArray[textSpanArray.length - 1];\n                var thisSectionStartSpan = section.$.textSpan.split('-')[0];\n                if(parseInt(thisSectionStartSpan) - parseInt(lastSectionEndSpan) > 10) {\n                  titleArray.push(\"\");\n                  titleSpanArray.push((parseInt(lastSectionEndSpan) + 1).toString());\n                  textSpanArray.push((parseInt(thisSectionStartSpan) - 1).toString());\n                }\n              }\n              titleArray.push(section.$.title);\n              titleSpanArray.push(section.$.titleSpan.split('-')[0]);\n              textSpanArray.push(section.$.textSpan.split('-')[1]);\n            }\n            for (var sentence of result.document.sentence){\n              let spans = sentence.$.charOffset.split('-');\n              let start = spans[0];\n              let span = spans[1];\n              if (!titleSpanArray.includes(start)) {\n                if(parseInt(span) > parseInt(textSpanArray[curSectionIndex])){\n                  curSectionIndex = curSectionIndex + 1;\n                  curSentenceIndex = 1;\n                  selectionValues[curSectionIndex] = [];\n                }\n\n                if (!selectionValues[curSectionIndex]) {\n                  selectionValues[curSectionIndex] = [];\n                }\n                if(sentence.$.selection) {\n                  selectionValues[curSectionIndex][curSentenceIndex-1] = sentence.$.selection;\n                }\n                curSentenceIndex = curSentenceIndex + 1;\n              }\n            }\n            var selectionValuesDict = this.state.selectionValuesDict;\n            selectionValuesDict[users[i].value] = selectionValues;\n            this.setState({selectionValuesDict: selectionValuesDict});\n          });\n        }\n        if(obj['Reconciliation']) {\n          users.pop();\n        }\n        var masi = obj['masi'];\n        document.getElementById('message').innerHTML = 'MASI value: ' + Number.parseFloat(masi).toPrecision(4);\n        this.setState({showTable: true});\n        document.getElementById('title').setAttribute(\"href\", PDF_DIR + filename + \".pdf\");\n      }\n    };\n    var postJson = {};\n    postJson[\"userList\"] = this.state.userList;\n    postJson[\"filename\"] = filename;\n    xmlrequest.send(JSON.stringify(postJson));\n  }\n\n  renderTable() {\n    return (\n      <div>\n        <div class=\"row\">\n          <div id=\"titlediv\">\n            <a target=\"_blank\" id=\"title\">{this.state.docTitle}</a>\n          </div>\n          <div id=\"tabtablewrapper\">\n            <TabTable titles={this.state.titles} data={this.state.data} onSelectChange={this.handleReconciliationChange}\n                selectionValuesDict={this.state.selectionValuesDict} selectedUsers={this.state.selectedUsers}\n                subtitleIndexArray={this.state.subtitleIndexArray}/>\n          </div>\n        </div>\n\n        <div id=\"buttonwrapper\">\n          <button onClick={this.handleReconciliationSubmit}> Submit </button>\n        </div>\n      </div>\n    );\n  }\n\n  render(){\n    return (\n      <div>\n        <div>\n          <h1 align=\"center\" id=\"header\"> CONSORT Reconciliation Tool</h1>\n          <a href=\"CONSORT-guideline.pdf\" target=\"_blank\" align=\"right\">See Guideline</a>\n          <div class=\"filters\">\n            <div class=\"userdropdown\">\n              <Select options={this.state.users} closeOnSelect={true} multi removeSelected={true} searchable ={false}\n               onChange={this.handleUserChange} value={this.state.selectedUsers}/>\n            </div>\n            <div class=\"filedropdown\">\n              <Select options={this.state.files} closeOnSelect={true} searchable ={true}\n               value={this.state.selectedFile} onChange={this.handleFileChange}/>\n            </div>\n            <div>\n              <h6 id='message'></h6>\n            </div>\n          </div>\n        </div>\n        {this.state.showTable ? this.renderTable() : <h1> no table available </h1>}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport UserInterface from './UserInterface';\n\n\nReactDOM.render(<UserInterface />, document.getElementById('root'));\n"],"sourceRoot":""}